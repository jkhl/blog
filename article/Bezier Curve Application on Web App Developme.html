<html>
<head>
  <title>Bezier Curve Application on Web App Development</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268604 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <meta name="viewport" content="width=device-width; initial-scale=1.0; maximun-scale=1.0; user-scalable=0;"/>
  <link href="../css/common.css" rel="stylesheet" type="text/css" charset="utf-8"/>

</head>
<body>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="text-align: center; font-size: 16px;"><b><font color="#464646">Bezier Curve Application on Web App Development</font></b></div><div style="text-align: center;"><font color="#797979"><br></font></div><div style="text-align: center;"><font color="#797979">04-20-2013</font></div><hr><br><div>In this article, I will talk about some curve application cases in Web development, it is called bezire curve. All example are code by JavaScript, which is mainly used in Web App programing. Whethor you are allready very familiar with JavaScript or not, the Js code will be easy for you.<br><div>Ok, without further ado, let start our travel, have fun!</div><div><br></div><div><b><font color="#464646">What is bezier curve?</font></b></div><div>Bezier curve is kind of curve that has been widly use in design, like in computer graph, car product industry, photo edit softwares and so on.</div><div>Let's first have a look how beautiful it is:</div><div><a href="http://upload.wikimedia.org/wikipedia/commons/d/d0/Bezier_curve.svg" style="text-decoration: none; color: rgb(11, 0, 128); background-image: none; background-color: rgb(255, 255, 255); font-family: sans-serif; font-size: 13px; line-height: 19.1875px;"><img src="Bezier Curve Application on Web App Developme_files/Image.png" type="image/png" alt="File:Bezier curve.svg" height="500" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="800"/></a>   </div><div>The curve between P0 and P3 is right the bezier curve. Maybe you are thinking it has not any special than other curve, but its beatiful hide behind what it can do.</div><div>In order to help you find how special it is, let's take a look a example application cases use it below, go to the &quot;result&quot; tap view and just click the box to start play:</div><div><br></div><div><iframe width="100%" height="300" src="http://jsfiddle.net/jkhl/U3ppv/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe></div><div><br></div><div>Ok, is'nt it interesting? do not be surprise, after this article, you can also use the bezier cruve in you works.</div><div>Now, if you think this article is worthy to read continue, I will be happy to welcome you to the bezier curve!</div><div><br></div><div><b><font color="#464646">The role of P0 - P3</font></b></div><div>To definde a bezier curve, four points is needed. As you see, the point P0 and P3 definde the two ends of the curve. And the P1 and P2 are  taking charge of control the curve shape(which is aslo called control points). Following the position changing of P1 and P2, the curve will change but the P0 and P3's positon. So, as you have got that, the P1 and P2 is two core roles in bezier curve. </div><div><br></div><div><b><font color="#464646">How P1 and P2 works?</font></b></div><div>To make it easy to comprehend the function of P1 and P2, let's take a look a animations below:</div><div><a href="http://upload.wikimedia.org/wikipedia/commons/b/bf/Bezier_2_big.png" style="text-decoration: none; color: rgb(11, 0, 128); background-image: none; background-color: rgb(255, 255, 255); font-family: sans-serif; font-size: 13px; line-height: 19.1875px;"><br><img src="Bezier Curve Application on Web App Developme_files/Image [1].png" type="image/png" alt="File:Bezier 2 big.png" height="150" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="360"/></a>    <a href="http://upload.wikimedia.org/wikipedia/commons/2/2d/Bezier_2_big.gif" style="text-decoration: none; color: rgb(11, 0, 128); background-image: none; background-color: rgb(255, 255, 255); font-family: sans-serif; font-size: 13px; line-height: 19.1875px;"><img src="Bezier Curve Application on Web App Developme_files/Image.gif" type="image/gif" alt="File:Bezier 2 big.gif" height="150" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="360"/></a></div><div><br></div><div>Look at the left picture. Yes, it looks some like the bezier curve descipted above. Acturally, it is also bezier curve, which is a simple kind bezier curve with one control point P1. To draw the bezier curve which is colored red in the picture, we need define three points: Q0, Q1 and B. When they go together, the track of B is the bezier curve, showing in the right animation picture above.</div><div>To get the position of B, it's always following some math calculation, but here I will show you easy way to comprehend the relation of Q0, Q1 and B's positon. In the left picture, you can imagine that Q0 first goes from P0 to P1, then Q1 goes from P1 to P2, and then B goes from Q0 to Q1 by the green line(actually they start at the same time, but just think they have the squence). Meanwhile, the length of P0Q0 / P0P1 = P1Q1 / P1P2 = Q0B / BQ1(in other words, (the length of has gone) / (the line length) is equal between the three points). So, after Q0 start go, we will easily get the position of B from this equation.</div><div>Ok, if now you have understand how to get the B's track(the bezier curve) in this easier kind bezier curve example, you are already comprehend how to get the B's track in other complex kind bezier curves !</div><div>Need'nt say thanks for that, after a test below please congratulate to youself !</div><div>Now, let's try to get the bezier curve that we descripted from the article start(constructed with P0, P1, P2 and P3). Adopt the method we used in the above example, we can get the relations between points as below:</div><div><br></div><div><a href="http://upload.wikimedia.org/wikipedia/commons/c/c1/Bezier_3_big.png" style="text-decoration: none; color: rgb(11, 0, 128); background-image: none; background-color: rgb(255, 255, 255); font-family: sans-serif; font-size: 13px; line-height: 19.1875px;"><img src="Bezier Curve Application on Web App Developme_files/Image [2].png" type="image/png" alt="File:Bezier 3 big.png" height="150" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="360"/></a> </div><div><br></div><div>Here Q0 goes from P0 to P1, Q1:P1-&gt; P2, Q2:P2-&gt; P3, and then R0 goes from Q0 to Q1, R1:Q1-&gt; Q2, and then B goes from R0 to R1, (the length has gone by every point) / (the line themself go by) is also keep equal(P0Q0 / P0P1 = Q0R0 / Q0Q1 = R0B / R0R1 = ...).</div><div>So, we get the bezier curve with two control points, yes we actually have done that !</div><div>Now let's have a look what it is like in animation:</div><div><br></div><div><a href="http://upload.wikimedia.org/wikipedia/commons/f/ff/Bezier_3_big.gif" style="text-decoration: none; color: rgb(11, 0, 128); background-image: none; background-color: rgb(255, 255, 255); font-family: sans-serif; font-size: 13px; line-height: 19.1875px;"><img src="Bezier Curve Application on Web App Developme_files/Image [1].gif" type="image/gif" alt="File:Bezier 3 big.gif" height="150" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="360"/></a></div><div><br></div><div>As you have guessed, with three or more control points, we can still get the bezier curve by the method we have used above, just add points and start go !</div><div>Here we can have a look how it is like with three and four control points: </div><div><br></div><div>Bezier curve with three control points:</div><div><br></div><div><a href="http://upload.wikimedia.org/wikipedia/commons/3/33/Bezier_4_big.png" style="text-decoration: none; color: rgb(11, 0, 128); background-image: none; background-color: rgb(255, 255, 255); font-family: sans-serif; font-size: 13px; line-height: 19.1875px;"><img src="Bezier Curve Application on Web App Developme_files/Image [3].png" type="image/png" alt="File:Bezier 4 big.png" height="150" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="360"/></a>  <a href="http://upload.wikimedia.org/wikipedia/commons/7/7d/Bezier_4_big.gif" style="text-decoration: none; color: rgb(11, 0, 128); background-image: none; background-color: rgb(255, 255, 255); font-family: sans-serif; font-size: 13px; line-height: 19.1875px;"><img src="Bezier Curve Application on Web App Developme_files/Image [2].gif" type="image/gif" alt="File:Bezier 4 big.gif" height="150" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="360"/></a></div><div><br></div><div><br></div><div>Bezier curve with four control points:</div><div><br></div><div><a href="http://upload.wikimedia.org/wikipedia/en/0/0b/BezierCurve.gif" style="text-decoration: none; color: rgb(11, 0, 128); background-image: none; background-color: rgb(255, 255, 255); font-family: sans-serif; font-size: 13px; line-height: 19.1875px;"><img src="Bezier Curve Application on Web App Developme_files/Image [3].gif" type="image/gif" alt="File:BezierCurve.gif" height="378" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="473"/></a></div><div><br></div><div><br></div><div>Is'nt that interesting? The more interesting things is still waiting at hehind.</div><div>Anybody need a wash? The exciting part will be begain !</div><div><br></div><div><b><font color="#464646">What bezier curve can do?</font></b></div><div style="text-align: -webkit-auto;"><span style="text-align: -webkit-left;">As we see in the box moving application example at the first, is the move style of the box interesting? By changing the first four parameters of function</span><font face="Courier New" style="text-align: -webkit-left;"> </font><span style="text-align: -webkit-left; background-color: rgb(242, 244, 255); font-family: 'Courier New'; font-size: 13px;">getCBYRatio,</span><span style="text-align: -webkit-left; font-family: 'Courier New';"> you will create other move style for the box. </span><span style="text-align: -webkit-left;">Now, we will reveal how does all these happened. </span></div><div>The beatiful of bezier curve is not just display by its shape, but showing by the speed changing (the track changing speed) ratio, and more exciting thing is that we can control all of that by codes. Maybe you haven't know what dose that mean for you, but after you have controled that, you will see how wondful the bezier curve is.</div><div>Now, before implement the bezier curve in our codes, we need to transform the curve to math formula. Don't be scale, the funciton is easy, and I will give a ready coded function to use(for the derivation step and principle, can see the reference appended). To make the value we want to get clear, let's have a look the picture below:</div><div><br></div><div><p style="margin: 0px 0px 1.5em; padding: 0px; border: 0px; outline: 0px; font-size: 14px; text-align: left; color: rgb(5, 5, 5); font-family: 'Droid Sans', sans-serif; line-height: 22.265625px; background-color: rgb(255, 255, 255);"><img src="Bezier Curve Application on Web App Developme_files/Image [4].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="300"/></p>
As you see, the curve above is very like a bezier curve, actually it is. Meanwhile, as it is showed, it is also representing a graph of a function which show the relationship between time changing(the x axis) from 0 to 1 and the function value changing(the y axis). And the value changing on y axis is the value we want get, which is a deliver the magice of bezier curve in our application. How to get the y value when the time changing, we can use the function in programme below(t: time):</div><div><br></div><div align="left"><font color="#000080" face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff"><b>function</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">getCBYRatio</span><span style="font-size:10pt; background:#f2f4ff"><b>(</b></span><span style="font-size:10pt; background:#f2f4ff">p1x</span><span style="font-size:10pt; background:#f2f4ff"><b>,</b></span> <span style="font-size:10pt; background:#f2f4ff">p1y</span><span style="font-size:10pt; background:#f2f4ff"><b>,</b></span> <span style="font-size:10pt; background:#f2f4ff">p2x</span> <span style="font-size:10pt; background:#f2f4ff"><b>,</b></span> <span style="font-size:10pt; background:#f2f4ff">p2y</span><span style="font-size:10pt; background:#f2f4ff"><b>,</b></span> <span style="font-size:10pt; background:#f2f4ff">t</span><span style="font-size:10pt; background:#f2f4ff"><b>)</b></span> <span style="font-size:10pt; background:#f2f4ff"><b>{</b></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">   </span></font> <font color="#000080" face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff"><b>var</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">ay</span> <span style="font-size:10pt; background:#f2f4ff"><b>=</b></span></font> <font color="#FF0000" face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">3</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff"><b>*</b></span> <span style="font-size:10pt; background:#f2f4ff">p1y</span> <span style="font-size:10pt; background:#f2f4ff"><b>-</b></span></font> <font color="#FF0000" face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">3</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff"><b>*</b></span> <span style="font-size:10pt; background:#f2f4ff">p2y</span> <span style="font-size:10pt; background:#f2f4ff"><b>+</b></span></font> <font color="#FF0000" face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">1</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff"><b>,</b></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">        by</span> <span style="font-size:10pt; background:#f2f4ff"><b>=</b></span></font> <font color="#FF0000" face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">3</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff"><b>*</b></span> <span style="font-size:10pt; background:#f2f4ff">p2y</span> <span style="font-size:10pt; background:#f2f4ff"><b>-</b></span></font> <font color="#FF0000" face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">6</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff"><b>*</b></span> <span style="font-size:10pt; background:#f2f4ff">p1y</span><span style="font-size:10pt; background:#f2f4ff"><b>,</b></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">        cy</span> <span style="font-size:10pt; background:#f2f4ff"><b>=</b></span></font> <font color="#FF0000" face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">3</span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff"><b>*</b></span> <span style="font-size:10pt; background:#f2f4ff">p1y</span><span style="font-size:10pt; background:#f2f4ff"><b>;</b></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">   </span></font> <font color="#000080" face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff"><b>var</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">y</span> <span style="font-size:10pt; background:#f2f4ff"><b>=</b></span> <span style="font-size:10pt; background:#f2f4ff"><b>((</b></span><span style="font-size:10pt; background:#f2f4ff">ay</span> <span style="font-size:10pt; background:#f2f4ff"><b>*</b></span> <span style="font-size:10pt; background:#f2f4ff">t</span> <span style="font-size:10pt; background:#f2f4ff"><b>+</b></span> <span style="font-size:10pt; background:#f2f4ff">by</span><span style="font-size:10pt; background:#f2f4ff"><b>)</b></span> <span style="font-size:10pt; background:#f2f4ff"><b>*</b></span> <span style="font-size:10pt; background:#f2f4ff">t</span> <span style="font-size:10pt; background:#f2f4ff"><b>+</b></span> <span style="font-size:10pt; background:#f2f4ff">cy</span><span style="font-size:10pt; background:#f2f4ff"><b>)</b></span> <span style="font-size:10pt; background:#f2f4ff"><b>*</b></span> <span style="font-size:10pt; background:#f2f4ff">t</span> <span style="font-size:10pt; background:#f2f4ff"><b>;</b></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">   </span></font> <font color="#000080" face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff"><b>return</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff">y</span><span style="font-size:10pt; background:#f2f4ff"><b>;</b></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt; background:#f2f4ff"><b>}</b></span></font></div><div><br></div><div>There are five parameters, and first four are the P1 and P2's coordinate and t is the time changing from 0 to 1. The return value y is the value changing on y axis, which is the changing ratio based on t. How to induce the function, the reference below provides more details. Here we just know how to use it is OK. But, how to use it? It is very easy, if you want to make a object go for a distance(identified by &quot;dis&quot;), and the distance changing is in the same thythm with the y, so just set the distance with dis * y, just as we see in the moving box example above.</div><div><br></div><div>The magic of bezier curve is not just limited on making distance changing interesting, it can also apply to many other object changing, like the radius changing, the scale changing and more things whatever you can imagine. </div><div><br></div><div><b><font color="#464646">Reference</font></b></div><div>1. Basic knowledge about bezier curve: <a href="http://en.wikipedia.org/wiki/B%C3%A9zier_curve">http://en.wikipedia.org/wiki/B%C3%A9zier_curve</a></div><div>2. The mathematics derivation about bezier curve on appliction: <a href="http://yiminghe.iteye.com/blog/1762706">http://yiminghe.iteye.com/blog/1762706</a></div><div>3. A easy parameters test for <span style="background-color: rgb(242, 244, 255); font-family: 'Courier New'; font-size: 13px; text-align: -webkit-left;">getCBYRatio</span>: <a href="http://cubic-bezier.com/">http://cubic-bezier.com</a></div></div></div>
</div>
<div class="back"><a href="../index.html">Go Back</a></div>
</body></html> 